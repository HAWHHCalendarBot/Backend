FROM microsoft/dotnet:2-sdk

COPY CalendarBackendLib /app/CalendarBackendLib

WORKDIR /app/Downloader
VOLUME /app/Downloader/eventfiles

COPY Downloader/Downloader.csproj ./
RUN dotnet restore

COPY Downloader/ ./
RUN dotnet publish -c Release -o out
ENTRYPOINT ["dotnet", "out/Downloader.dll"]
